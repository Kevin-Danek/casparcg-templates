<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Start Overlay</title>
    <script src="./assets/gsap.min.js"></script>
    <link rel="stylesheet" href="assets/output.css" />

    <script>
        async function play() {
            const timeline = new gsap.timeline();
            timeline.fromTo("#wrapper", { y: '200%' }, { y: '0%', duration: 0.3 })
            document.getElementById("wrapper").classList.remove("hidden");
        }

        function stop() {
            const timeline = new gsap.timeline();
            timeline.fromTo("#wrapper", { y: '0%' }, { y: '200%', duration: 0.3 })
        }

        function next() {
            console.log('next()')
        }

        function update(raw) {
            try {
                const data = JSON.parse(raw);
                console.log(data)

                if (data.theme) document.documentElement.classList.add(data.theme);
                if (data.time) document.getElementById("time-value").textContent = data.time;
                if (data.venue) document.getElementById("venue-value").textContent = data.venue;
                if (data.round) document.getElementById("round-value").textContent = data.round;
                if (data.period) document.getElementById("period-value").textContent = data.period;

                if (data.home) {
                    if (data.home.name) document.getElementById("home-name").textContent = data.home.name;
                    if (data.home.color) document.getElementById("home-color").setAttribute("style", "background: " + data.home.color);
                    if (data.home.score) document.getElementById("home-score").textContent = data.home.score;
                }

                if (data.away) {
                    if (data.away.name) document.getElementById("away-name").textContent = data.away.name;
                    if (data.away.color) document.getElementById("away-color").setAttribute("style", "background: " + data.away.color);
                    if (data.away.score) document.getElementById("away-score").textContent = data.away.score;
                }
            } catch (err) {
                console.log(err);
            }
        }
    </script>
</head>

<body class="w-screen h-screen overflow-hidden grid items-end justify-center px-16 py-12">
    <div class="overflow-hidden">
        <section class="flex flex-col relative hidden" id="wrapper">
            <div class="h-18 grid grid-cols-2 gap-0.5 bg-divider min-w-4xl">
                <div class="flex">
                    <div class="w-full flex gap-4 items-center bg-primary text-primary-foreground px-4">
                        <div id="home-color" class="h-9 w-1.5 bg-green-600"></div>
                        <h1 id="home-name" class="text-3xl font-bold uppercase mr-8">Domácí</h1>
                    </div>
                    <div id="home-score"
                        class="aspect-square bg-gray-200 text-secondary font-bold tracking-tighter w-16 grid items-center justify-center text-4xl">
                        0</div>
                </div>
                <div class="flex">
                    <div id="away-score"
                        class="aspect-square bg-gray-200 text-secondary font-bold tracking-tighter w-16 grid items-center justify-center text-4xl">
                        0</div>
                    <div class="w-full flex gap-4 items-center bg-primary text-primary-foreground px-4">
                        <h1 id="away-name" class="ml-auto text-3xl font-bold uppercase ml-8">Hosté</h1>
                        <div id="away-color" class="h-9 w-1.5 bg-green-600"></div>
                    </div>
                </div>
            </div>
            <hr class="h-[2px] bg-divider">
            <div class="bg-secondary text-lg text-secondary-foreground px-4 font-bold grid grid-cols-3">
                <div id="venue-value" class="text-left uppercase"></div>

                <div class="flex gap-1 items-center justify-center">
                    <div class="flex flex-1">
                        <div id="period-value" class="ml-auto">2nd</div>
                    </div>
                    <div class="h-4 w-[2px] bg-secondary-foreground"></div>
                    <div id="time-value" class="flex flex-1">18:58</div>
                </div>
                <div id="round-value" class="text-right uppercase">SEMIFINÁLE PLAY-OFF</div>
            </div>
        </section>
    </div>
</body>

</html>